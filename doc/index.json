[
  {
    "__docId__": 0,
    "kind": "file",
    "name": "src/Path.js",
    "content": "/**\n * Class to manage URL paths\n */\nexport default class Path {\n  /**\n   * @param {string} f - string path\n   * @param {object} ctx - context of Uri class\n   */\n  constructor(f, ctx = {}) {\n    this.ctx = ctx;\n    this._path = [];\n    return this.parse(f);\n  }\n\n  /**\n   * Append to a path\n   * @param {string} s path to append\n   * @return {instance} for chaining\n   */\n  append(s) {\n    this._path.push(s);\n    return this.ctx;\n  }\n\n  /**\n   * Delete end of path\n   * @param {integer} loc - segment of path to delete\n   * @return {instance} for chaining\n   */\n  delete(loc) {\n    if (!loc) {\n      this._path.pop();\n      return this.ctx;\n    }\n  }\n\n  /**\n   * Get the path\n   * @return {array} path as array\n   */\n  get() {\n    return this._path;\n  }\n\n  /**\n   * Parse the path part of a URl\n   * @param {string} f - string path\n   * @return {instance} for chaining\n   */\n  parse(f = '') {\n    let path = decodeURIComponent(f);\n    let split = path.split('/');\n    if (Array.isArray(split)) {\n      if(path.match(/^\\//)) split.shift();\n      if (split[0] === '') split.shift();\n      if (split.length > 1 && path.match(/\\/$/)) split.pop();\n      this._path = split;\n    }\n    return this;\n  }\n\n  /**\n   * Replace part of a path\n   * @param {string} f - path replacement\n   * @param {integer} loc - location to replace\n   * @return {instance} for chaining\n   */\n  replace(f, loc) {\n    if (loc === 'file') {\n      this._path.splice(this._path.length - 1, 1, f);\n      return this.ctx;\n    } else if (Number.isInteger(loc)) {\n      this._path.splice(loc, 1, f);\n      return this.ctx;\n    }\n    this.parse(f);\n    return this.ctx;\n  }\n\n  /**\n   * Get string representatio of the path or the uri\n   * @param {boolen} uri - if true return string represention of uri\n   * @return {string} path or uri as string\n   */\n  toString(uri) {\n    if (uri) return this.ctx.toString();\n    return Array.isArray(this._path) ? this._path.join('/') : '';\n  }\n}\n",
    "static": true,
    "longname": "/Users/robhicks/sandbox/tiny-uri/src/Path.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 1,
    "kind": "class",
    "name": "Path",
    "memberof": "src/Path.js",
    "static": true,
    "longname": "src/Path.js~Path",
    "access": null,
    "export": true,
    "importPath": "tiny-uri/src/Path.js",
    "importStyle": "Path",
    "description": "Class to manage URL paths",
    "lineNumber": 4,
    "interface": false
  },
  {
    "__docId__": 2,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#constructor",
    "access": null,
    "description": "",
    "lineNumber": 9,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "string path"
      },
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "context of Uri class"
      }
    ]
  },
  {
    "__docId__": 3,
    "kind": "member",
    "name": "ctx",
    "memberof": "src/Path.js~Path",
    "static": false,
    "longname": "src/Path.js~Path#ctx",
    "access": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true
  },
  {
    "__docId__": 4,
    "kind": "member",
    "name": "_path",
    "memberof": "src/Path.js~Path",
    "static": false,
    "longname": "src/Path.js~Path#_path",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 5,
    "kind": "method",
    "name": "append",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#append",
    "access": null,
    "description": "Append to a path",
    "lineNumber": 20,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "s",
        "description": "path to append"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 6,
    "kind": "method",
    "name": "delete",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#delete",
    "access": null,
    "description": "Delete end of path",
    "lineNumber": 30,
    "params": [
      {
        "nullable": null,
        "types": [
          "integer"
        ],
        "spread": false,
        "optional": false,
        "name": "loc",
        "description": "segment of path to delete"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 7,
    "kind": "method",
    "name": "get",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#get",
    "access": null,
    "description": "Get the path",
    "lineNumber": 41,
    "return": {
      "nullable": null,
      "types": [
        "array"
      ],
      "spread": false,
      "description": "path as array"
    }
  },
  {
    "__docId__": 8,
    "kind": "method",
    "name": "parse",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#parse",
    "access": null,
    "description": "Parse the path part of a URl",
    "lineNumber": 50,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "string path"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 10,
    "kind": "method",
    "name": "replace",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#replace",
    "access": null,
    "description": "Replace part of a path",
    "lineNumber": 68,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "path replacement"
      },
      {
        "nullable": null,
        "types": [
          "integer"
        ],
        "spread": false,
        "optional": false,
        "name": "loc",
        "description": "location to replace"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 11,
    "kind": "method",
    "name": "toString",
    "memberof": "src/Path.js~Path",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Path.js~Path#toString",
    "access": null,
    "description": "Get string representatio of the path or the uri",
    "lineNumber": 85,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolen"
        ],
        "spread": false,
        "optional": false,
        "name": "uri",
        "description": "if true return string represention of uri"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "path or uri as string"
    }
  },
  {
    "__docId__": 12,
    "kind": "file",
    "name": "src/Query.js",
    "content": "/**\n * Class to manage query part of URL\n */\nexport default class Query {\n  /**\n   * @param {string} f - query string\n   * @param {object} ctx - context of uri instance\n   * @return {instance} for chaining\n   */\n  constructor(f, ctx = {}) {\n    Object.assign(this, ctx);\n    this.ctx = ctx;\n    this.set(f);\n    return this;\n  }\n\n  /**\n   * Add a query string\n   * @param {object} obj {name: 'value'}\n   * @return {instance} for chaining\n   */\n  add(obj = {}) {\n    this._query = this._convert(obj, this._query[0], this._query[1]);\n    return this.ctx;\n  }\n\n  /**\n   * Remove the query string\n   * @return {instance} for chaining\n   */\n  clear() {\n    this._query = [[], []];\n    return this.ctx;\n  }\n\n  _convert(obj, p = [], q = []) {\n    for (let key in obj) {\n      if (Array.isArray(obj[key])) {\n        for (let i = 0; i < obj[key].length; i++) {\n          let val = obj[key][i];\n          p.push(key);\n          q.push(val);\n        }\n      } else if(obj[key]) {\n        p.push(key);\n        q.push(obj[key]);\n      }\n    }\n    return [p, q];\n  }\n\n  /**\n   * Get the query string\n   * @return {array} representing the query string\n   */\n  get() {\n    let dict = {};\n    let obj = this._query;\n\n    for (let i = 0; i < obj[0].length; i++) {\n      let k = obj[0][i];\n      let v = obj[1][i];\n      if (dict[k]) {\n        dict[k].push(v);\n      } else {\n        dict[k] = [v];\n      }\n    }\n    return dict;\n  }\n\n  getUrlTemplateQuery() {\n    return this._urlTemplateQueryString;\n  }\n\n  /**\n   * Merge with the query string - replaces query string values if they exist\n   * @param {object} obj {name: 'value'}\n   * @return {instance} for chaining\n   */\n  merge(obj) {\n    let p = this._query[0];\n    let q = this._query[1];\n    for (let key in obj) {\n      let kset = false;\n\n      for(let i=0; i < p.length; i++) {\n        let xKey = p[i];\n        if(key === xKey) {\n          if(kset) {\n            p.splice(i,1);\n            q.splice(i,1);\n            continue;\n          }\n          if (Array.isArray(obj[key])) {\n            q[i] = obj[key].shift();\n          } else if (typeof obj[key] === 'undefined' || obj[key] === null) {\n            p.splice(i, 1);\n            q.splice(i, 1);\n            delete obj[key];\n          } else {\n            q[i] = obj[key];\n            delete obj[key];\n          }\n          kset = true;\n        }\n      }\n    }\n    this._query = this._convert(obj, this._query[0], this._query[1]);\n    return this.ctx;\n  }\n\n  _parse(q = '') {\n    let struct = [[], []];\n    let pairs = q.split(/&|;/);\n\n    for (let j = 0; j < pairs.length; j++) {\n      let name, value, pair = pairs[j], nPair = pair.match(this.qRegEx);\n\n      if(nPair && typeof nPair[nPair.length -1] !== 'undefined') {\n        nPair.shift();\n        for (let i = 0; i < nPair.length; i++) {\n          let p = nPair[i];\n          struct[i].push(decodeURIComponent(p.replace('+', ' ', 'g')));\n        }\n      }\n    }\n    return struct;\n  }\n\n  /**\n   * Set with the query string - replaces existing query string\n   * @param {obj} or {string} ...q\n   * @return {instance} for chaining\n   */\n  set(...q) {\n    let args = [...q];\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'object') {\n        this._query = this._convert(args[0]);\n      } else {\n        this._query = this._parse(args[0]);\n      }\n    } else if (args.length === 0) {\n      this.clear();\n    } else {\n      let obj = {};\n      obj[args[0]] = args[1];\n      this.merge(obj);\n    }\n    return this.ctx;\n  }\n\n  /**\n   * Set the url template query string vale\n   * @param {string} url-template query string\n   * @return {instance} for chaining\n   */\n  setUrlTemplateQuery(s) {\n    this._urlTemplateQueryString = s;\n  }\n\n  /**\n   * Get string representatio of the path or the uri\n   * @param {boolen} uri - if true return string represention of uri\n   * @return {string} query or uri as string\n   */\n  toString(uri) {\n    if (uri) return this.ctx.toString();\n    let pairs = [];\n    let n = this._query[0];\n    let v = this._query[1];\n\n    for(let i = 0; i < n.length; i++) {\n      pairs.push(encodeURIComponent(n[i]) + '=' + encodeURIComponent(v[i]));\n    }\n    return pairs.join('&');\n   }\n}\n",
    "static": true,
    "longname": "/Users/robhicks/sandbox/tiny-uri/src/Query.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 13,
    "kind": "class",
    "name": "Query",
    "memberof": "src/Query.js",
    "static": true,
    "longname": "src/Query.js~Query",
    "access": null,
    "export": true,
    "importPath": "tiny-uri/src/Query.js",
    "importStyle": "Query",
    "description": "Class to manage query part of URL",
    "lineNumber": 4,
    "interface": false
  },
  {
    "__docId__": 14,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#constructor",
    "access": null,
    "description": "",
    "lineNumber": 10,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "query string"
      },
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "ctx",
        "description": "context of uri instance"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 15,
    "kind": "member",
    "name": "ctx",
    "memberof": "src/Query.js~Query",
    "static": false,
    "longname": "src/Query.js~Query#ctx",
    "access": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true
  },
  {
    "__docId__": 16,
    "kind": "method",
    "name": "add",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#add",
    "access": null,
    "description": "Add a query string",
    "lineNumber": 22,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": "{name: 'value'}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 17,
    "kind": "member",
    "name": "_query",
    "memberof": "src/Query.js~Query",
    "static": false,
    "longname": "src/Query.js~Query#_query",
    "access": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true
  },
  {
    "__docId__": 18,
    "kind": "method",
    "name": "clear",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#clear",
    "access": null,
    "description": "Remove the query string",
    "lineNumber": 31,
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 20,
    "kind": "method",
    "name": "_convert",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#_convert",
    "access": null,
    "description": null,
    "lineNumber": 36,
    "undocument": true
  },
  {
    "__docId__": 21,
    "kind": "method",
    "name": "get",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#get",
    "access": null,
    "description": "Get the query string",
    "lineNumber": 56,
    "return": {
      "nullable": null,
      "types": [
        "array"
      ],
      "spread": false,
      "description": "representing the query string"
    }
  },
  {
    "__docId__": 22,
    "kind": "method",
    "name": "getUrlTemplateQuery",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#getUrlTemplateQuery",
    "access": null,
    "description": null,
    "lineNumber": 72,
    "undocument": true
  },
  {
    "__docId__": 23,
    "kind": "method",
    "name": "merge",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#merge",
    "access": null,
    "description": "Merge with the query string - replaces query string values if they exist",
    "lineNumber": 81,
    "params": [
      {
        "nullable": null,
        "types": [
          "object"
        ],
        "spread": false,
        "optional": false,
        "name": "obj",
        "description": "{name: 'value'}"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 25,
    "kind": "method",
    "name": "_parse",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#_parse",
    "access": null,
    "description": null,
    "lineNumber": 113,
    "undocument": true
  },
  {
    "__docId__": 26,
    "kind": "method",
    "name": "set",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#set",
    "access": null,
    "description": "Set with the query string - replaces existing query string",
    "lineNumber": 136,
    "params": [
      {
        "nullable": null,
        "types": [
          "obj"
        ],
        "spread": false,
        "optional": false,
        "name": "or",
        "description": "{string} ...q"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 29,
    "kind": "method",
    "name": "setUrlTemplateQuery",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#setUrlTemplateQuery",
    "access": null,
    "description": "Set the url template query string vale",
    "lineNumber": 160,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "url-template",
        "description": "query string"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 30,
    "kind": "member",
    "name": "_urlTemplateQueryString",
    "memberof": "src/Query.js~Query",
    "static": false,
    "longname": "src/Query.js~Query#_urlTemplateQueryString",
    "access": null,
    "description": null,
    "lineNumber": 161,
    "undocument": true
  },
  {
    "__docId__": 31,
    "kind": "method",
    "name": "toString",
    "memberof": "src/Query.js~Query",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/Query.js~Query#toString",
    "access": null,
    "description": "Get string representatio of the path or the uri",
    "lineNumber": 169,
    "params": [
      {
        "nullable": null,
        "types": [
          "boolen"
        ],
        "spread": false,
        "optional": false,
        "name": "uri",
        "description": "if true return string represention of uri"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "query or uri as string"
    }
  },
  {
    "__docId__": 32,
    "kind": "file",
    "name": "src/StringBuilder.js",
    "content": "\n/**\n * Class to make it easier to build strings\n */\nexport default class StringBuilder {\n  /**\n   * @param {string} string - starting string (optional)\n   * @return {instance} for chaining\n   */\n  constructor(string) {\n    if (!string || typeof string === 'undefined') this.string = String(\"\");\n    else this.string = String(string);\n  }\n\n  /**\n   * Return full string\n   * @return {string} assembled string\n   */\n  toString() {\n    return this.string;\n  }\n\n  /**\n   * Append a string to an existing string\n   * @param {string} val - string to be appended\n   * @return {instance} for chaining\n   */\n  append(val) {\n    this.string += val;\n    return this;\n  }\n\n  /**\n   * Insert a string to an existing string\n   * @param {integer} pos - position at which to insert value\n   * @param {string} val - string to be inserted\n   * @return {instance} for chaining\n   */\n  insert(pos, val) {\n    let length = this.string.length;\n    let left = this.string.slice(0, pos);\n    let right = this.string.slice(pos);\n    this.string = left + val + right;\n    return this;\n  }\n\n}\n",
    "static": true,
    "longname": "/Users/robhicks/sandbox/tiny-uri/src/StringBuilder.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 33,
    "kind": "class",
    "name": "StringBuilder",
    "memberof": "src/StringBuilder.js",
    "static": true,
    "longname": "src/StringBuilder.js~StringBuilder",
    "access": null,
    "export": true,
    "importPath": "tiny-uri/src/StringBuilder.js",
    "importStyle": "StringBuilder",
    "description": "Class to make it easier to build strings",
    "lineNumber": 5,
    "interface": false
  },
  {
    "__docId__": 34,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/StringBuilder.js~StringBuilder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/StringBuilder.js~StringBuilder#constructor",
    "access": null,
    "description": "",
    "lineNumber": 10,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "string",
        "description": "starting string (optional)"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 35,
    "kind": "member",
    "name": "string",
    "memberof": "src/StringBuilder.js~StringBuilder",
    "static": false,
    "longname": "src/StringBuilder.js~StringBuilder#string",
    "access": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true
  },
  {
    "__docId__": 37,
    "kind": "method",
    "name": "toString",
    "memberof": "src/StringBuilder.js~StringBuilder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/StringBuilder.js~StringBuilder#toString",
    "access": null,
    "description": "Return full string",
    "lineNumber": 19,
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "assembled string"
    }
  },
  {
    "__docId__": 38,
    "kind": "method",
    "name": "append",
    "memberof": "src/StringBuilder.js~StringBuilder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/StringBuilder.js~StringBuilder#append",
    "access": null,
    "description": "Append a string to an existing string",
    "lineNumber": 28,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "val",
        "description": "string to be appended"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 40,
    "kind": "method",
    "name": "insert",
    "memberof": "src/StringBuilder.js~StringBuilder",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/StringBuilder.js~StringBuilder#insert",
    "access": null,
    "description": "Insert a string to an existing string",
    "lineNumber": 39,
    "params": [
      {
        "nullable": null,
        "types": [
          "integer"
        ],
        "spread": false,
        "optional": false,
        "name": "pos",
        "description": "position at which to insert value"
      },
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "val",
        "description": "string to be inserted"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "for chaining"
    }
  },
  {
    "__docId__": 42,
    "kind": "file",
    "name": "src/TinyUri.js",
    "content": "import Path from './Path.js';\nimport Query from './Query.js';\nimport StringBuilder from './StringBuilder.js';\n\n/**\n * Uri - manipulate URLs\n */\nclass TinyUri {\n  /**\n   * @param {string} uri - a URI string\n   * @return {instance} - return Uri instance for chaining\n   */\n  constructor(uri) {\n    this.uriRegEx = /^(([^:\\/?#]+):)?(\\/\\/([^\\/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/;\n    this.authRegEx = /^([^\\@]+)\\@/;\n    this.portRegEx = /:(\\d+)$/;\n    this.qRegEx = /^([^=]+)(?:=(.*))?$/;\n    this.urlTempQueryRegEx = /\\{\\?(.*?)\\}/;\n    return this.parse(uri);\n  }\n\n  /**\n   * @param {string} authority - username password part of URL\n   * @return {instance} - returns Uri instance for chaining\n   */\n  authority(authority = '') {\n    if (authority !== '') {\n      let auth = authority.match(this.authRegEx);\n      this._authority = authority;\n      if (auth) {\n        authority = authority.replace(this.authRegEx, '');\n        this.userInfo(auth[1]);\n      }\n      let port = authority.match(this.portRegEx);\n      if(port) {\n        authority = authority.replace(this.portRegEx, '');\n        this.port(port[1]);\n      }\n      this.host(authority.replace('{', ''));\n      return this;\n    }\n    let userinfo = this.userInfo();\n    if (userinfo) authority = userinfo + '@';\n    authority += this.host();\n    let port = this.port();\n    if (port) authority += ':' + port;\n    return authority;\n  }\n\n  /**\n   * @param {string} f - string representation of fragment\n   * @return {instance} - returns Uri instance for chaining\n   */\n  fragment(f = '') {\n    return this.gs(f, '_fragment');\n  }\n\n  gs(val, tar, fn) {\n    if (typeof val !== 'undefined') {\n      this[tar] = val;\n      return this;\n    }\n    return fn ? fn(this[tar]) : this[tar] ? this[tar] : '';\n  }\n\n  /**\n   * @param {string} f - string representation of host\n   * @return {instance} - returns Uri instance for chaining\n   */\n  host(f) {\n    return this.gs(f, '_host');\n  }\n\n  /**\n   * @param {string} uri - URL\n   * @return {instance} - returns Uri instance for chaining\n   */\n  parse(uri) {\n    let f = uri ? uri.match(this.uriRegEx) : [];\n    let t = uri ? uri.match(this.urlTempQueryRegEx) : [];\n    this.scheme(f[2]);\n    this.authority(f[4]);\n    this.path = new Path(f[5] ? f[5].replace(/{$/, '') : '', this);\n    this.fragment(f[9]);\n    this.query = new Query(f[7] ? f[7] : '', this);\n    if (t) this.query.setUrlTemplateQuery(t[1]);\n    return this;\n  }\n\n  /**\n   * @param {string} f - port part of URL\n   * @return {instance} - returns Uri instance for chaining\n   */\n  port(f) {\n    return this.gs(f, '_port');\n  }\n\n  /**\n   * @param {string} f - protocol part of URL\n   * @return {instance} - returns Uri instance for chaining\n   */\n  protocol(f) {\n    return (this._scheme || '').toLowerCase();\n  }\n\n  /**\n   * @param {string} f - protocol scheme\n   * @return {instance} - returns Uri instance for chaining\n   */\n  scheme(f) {\n    return this.gs(f, '_scheme');\n  }\n\n  /**\n   * @param {string} f - user info part of URL\n   * @return {instance} - returns Uri instance for chaining\n   */\n  userInfo(f) {\n    return this.gs(f, '_userinfo', (r) => {\n      return r ? encodeURI(r) : r;\n    });\n  }\n\n  /**\n   * @return {string} - returns string URL\n   */\n  toString() {\n    let q = this.query.toString();\n    let p = this.path.toString();\n    let f = this.fragment();\n    let s = this.scheme();\n    let str = new StringBuilder();\n    let retStr = str.append(s ? s + '://' : \"\")\n      .append(this.authority())\n      .append('/').append(p)\n      .append(q !== '' ? '?' : '')\n      .append(q)\n      .toString()\n      .replace('/?', '?')\n      .replace(/\\/$/, '');\n    return retStr;\n  }\n\n  static clone(uri) {\n    return new TinyUri(uri.toString());\n  }\n\n}\n\nexport default TinyUri;\n",
    "static": true,
    "longname": "/Users/robhicks/sandbox/tiny-uri/src/TinyUri.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 43,
    "kind": "class",
    "name": "TinyUri",
    "memberof": "src/TinyUri.js",
    "static": true,
    "longname": "src/TinyUri.js~TinyUri",
    "access": null,
    "export": true,
    "importPath": "tiny-uri/src/TinyUri.js",
    "importStyle": "TinyUri",
    "description": "Uri - manipulate URLs",
    "lineNumber": 8,
    "interface": false
  },
  {
    "__docId__": 44,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#constructor",
    "access": null,
    "description": "",
    "lineNumber": 13,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uri",
        "description": "a URI string"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "return Uri instance for chaining"
    }
  },
  {
    "__docId__": 45,
    "kind": "member",
    "name": "uriRegEx",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#uriRegEx",
    "access": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true
  },
  {
    "__docId__": 46,
    "kind": "member",
    "name": "authRegEx",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#authRegEx",
    "access": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true
  },
  {
    "__docId__": 47,
    "kind": "member",
    "name": "portRegEx",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#portRegEx",
    "access": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true
  },
  {
    "__docId__": 48,
    "kind": "member",
    "name": "qRegEx",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#qRegEx",
    "access": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true
  },
  {
    "__docId__": 49,
    "kind": "member",
    "name": "urlTempQueryRegEx",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#urlTempQueryRegEx",
    "access": null,
    "description": null,
    "lineNumber": 18,
    "undocument": true
  },
  {
    "__docId__": 50,
    "kind": "method",
    "name": "authority",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#authority",
    "access": null,
    "description": "",
    "lineNumber": 26,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "authority",
        "description": "username password part of URL"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 51,
    "kind": "member",
    "name": "_authority",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#_authority",
    "access": null,
    "description": null,
    "lineNumber": 29,
    "undocument": true
  },
  {
    "__docId__": 52,
    "kind": "method",
    "name": "fragment",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#fragment",
    "access": null,
    "description": "",
    "lineNumber": 54,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "string representation of fragment"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 53,
    "kind": "method",
    "name": "gs",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#gs",
    "access": null,
    "description": null,
    "lineNumber": 58,
    "undocument": true
  },
  {
    "__docId__": 54,
    "kind": "member",
    "name": "[tar]",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#[tar]",
    "access": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true
  },
  {
    "__docId__": 55,
    "kind": "method",
    "name": "host",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#host",
    "access": null,
    "description": "",
    "lineNumber": 70,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "string representation of host"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 56,
    "kind": "method",
    "name": "parse",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#parse",
    "access": null,
    "description": "",
    "lineNumber": 78,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "uri",
        "description": "URL"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 57,
    "kind": "member",
    "name": "path",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#path",
    "access": null,
    "description": null,
    "lineNumber": 83,
    "undocument": true
  },
  {
    "__docId__": 58,
    "kind": "member",
    "name": "query",
    "memberof": "src/TinyUri.js~TinyUri",
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#query",
    "access": null,
    "description": null,
    "lineNumber": 85,
    "undocument": true
  },
  {
    "__docId__": 59,
    "kind": "method",
    "name": "port",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#port",
    "access": null,
    "description": "",
    "lineNumber": 94,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "port part of URL"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 60,
    "kind": "method",
    "name": "protocol",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#protocol",
    "access": null,
    "description": "",
    "lineNumber": 102,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "protocol part of URL"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 61,
    "kind": "method",
    "name": "scheme",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#scheme",
    "access": null,
    "description": "",
    "lineNumber": 110,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "protocol scheme"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 62,
    "kind": "method",
    "name": "userInfo",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#userInfo",
    "access": null,
    "description": "",
    "lineNumber": 118,
    "params": [
      {
        "nullable": null,
        "types": [
          "string"
        ],
        "spread": false,
        "optional": false,
        "name": "f",
        "description": "user info part of URL"
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "instance"
      ],
      "spread": false,
      "description": "returns Uri instance for chaining"
    }
  },
  {
    "__docId__": 63,
    "kind": "method",
    "name": "toString",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/TinyUri.js~TinyUri#toString",
    "access": null,
    "description": "",
    "lineNumber": 127,
    "return": {
      "nullable": null,
      "types": [
        "string"
      ],
      "spread": false,
      "description": "returns string URL"
    }
  },
  {
    "__docId__": 64,
    "kind": "method",
    "name": "clone",
    "memberof": "src/TinyUri.js~TinyUri",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/TinyUri.js~TinyUri.clone",
    "access": null,
    "description": null,
    "lineNumber": 144,
    "undocument": true
  },
  {
    "__docId__": 65,
    "kind": "file",
    "name": "src/encode.js",
    "content": "export const atob = typeof window !== 'undefined' ? window.atob : (data) => Buffer.from(data, 'base64').toString('ascii');\nexport const btoa = typeof window !== 'undefined' ? window.btoa : (data) => Buffer.from(data, 'ascii').toString('base64');\n",
    "static": true,
    "longname": "/Users/robhicks/sandbox/tiny-uri/src/encode.js",
    "access": null,
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 66,
    "kind": "variable",
    "name": "atob",
    "memberof": "src/encode.js",
    "static": true,
    "longname": "src/encode.js~atob",
    "access": null,
    "export": true,
    "importPath": "tiny-uri/src/encode.js",
    "importStyle": "{atob}",
    "description": null,
    "lineNumber": 1,
    "undocument": true
  },
  {
    "__docId__": 67,
    "kind": "variable",
    "name": "btoa",
    "memberof": "src/encode.js",
    "static": true,
    "longname": "src/encode.js~btoa",
    "access": null,
    "export": true,
    "importPath": "tiny-uri/src/encode.js",
    "importStyle": "{btoa}",
    "description": null,
    "lineNumber": 2,
    "undocument": true
  },
  {
    "kind": "index",
    "content": "tiny-uri\n=======\n\ntiny-uri is yet another Javascript library for working with URLs. It offers a (fluent interface)[https://en.wikipedia.org/wiki/Fluent_interface],\nmethod chaining, and sensible means of manipulating Url parts and a file size of less than 5K, gzipped.\n\n# Installation\n\n```shell\nnpm install https://github.com/robhicks/tiny-uri.git\n\n# or\n\nyarn add https://github.com/robhicks/tiny-uri.git\n\n```\n\n# Use\n\nYou can use the library in the browser or on NodeJs.\n\nIn the browser you can load dist/tiny-uri.iife.js in\na script tag, or if you are using an es6 aware bundler like RollupJs, you can import it into your\nentry file.\n\nIn NodeJs, require it as usual.\n\n# Examples\n\n## Getting URL parts:\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nconsole.log('scheme', uri.scheme()); // 'http'\nconsole.log('host', uri.host()); // 'example.org'\nconsole.log('path', uri.path.toString()); // /path/to/foo/index.html\nconsole.log('query', uri.query.toString()); // hello=world\n```\n\n## Manipulating URL parts:\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nuri\n  .scheme('https')\n  .host('example.com')\n  .authority('user:password@example.com')\n  .path.set('path/to/bar/index.html')\n  .query.merge({q, 'foo'});\n\nconsole.log('scheme', uri.scheme()); // 'https'\nconsole.log('host', uri.host()); // 'example.com'\nconsole.log('authority', uri.authority()) // 'user:password@example.com'\nconsole.log('path', uri.path.toString()); // /path/to/bar/index.html\nconsole.log('query', uri.query.toString()); // hello=world\n```\n\n## Manipulating query strings\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nconsole.log('query', uri.query.toString()); // hello=world\n```\n\n### Setting the query string\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nuri.query.set({goodby: 'world'});\n\nconsole.log('query', uri.query.toString()); // goodby=world\n\n```\n\n### Clearing the query string\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nuri.query.clear();\n\nconsole.log('query', uri.query.toString()); //\n```\n\n### Adding to the query string\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nuri.query.add({goodby: 'world'});\n\nconsole.log('query', uri.query.toString()); // hello=world&goodby=world\n\n```\n\n### Merging the query string\n\n```JavaScript\nlet uri = new TinyUri('http://example.org/path/to/foo/index.html?hello=world');\n\nuri.\n  query.add({goodby: 'world'})\n  query.merge({hello: 'universe'})\n\nconsole.log('query', uri.query.toString()); // hello=universe&goodby=world\n\n```\n\n## Chaining Methods\n\nYou can chain Uri, Path and Query methods.\n\n```Javascript\nexpect(uri.scheme().toString()).toBe('https');\nexpect(uri.host().toString()).toBe('big.example.com');\nexpect(uri.port().toString()).toBe('');\nexpect(Array.isArray(uri.path.get())).toEqual(true);\nexpect(uri.path.toString()).toEqual('path/to/file.xml');\nexpect(uri.query).toEqual(jasmine.any(Object));\nexpect(uri.query.add({foo: 'bar'}).query.toString()).toEqual('context=foo&credentials=bar&foo=bar');\nexpect(uri.query.add({foo: 'bar'}).query.merge({foo: 'bars'}).query.toString()).toEqual('context=foo&credentials=bar&foo=bars');\nexpect(uri.query.clear().query.add({foo: 'bar'}).query.merge({foo: 'bars'}).query.toString()).toEqual('foo=bars');\nexpect(uri.query.clear().query.add({foo: 'bar'}).query.merge({foo: 'bars'}).query.toString(true)).toEqual('https://user:pass@big.example.com/path/to/file.xml?foo=bars');\n```\n",
    "longname": "/Users/robhicks/sandbox/tiny-uri/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"tiny-uri\",\n  \"version\": \"7.0.0\",\n  \"description\": \"Lightweight Javascript library for handling URLs\",\n  \"keywords\": [\n    \"Lightweight\",\n    \"Javascript\",\n    \"library\",\n    \"es2015\",\n    \"URLs\"\n  ],\n  \"repository\": \"https://github.com/robhicks/tiny-uri.git\",\n  \"main\": \"dist/tiny-uri.cjs.js\",\n  \"module\": \"src/TinyUri.js\",\n  \"scripts\": {\n    \"build\": \"rollup -c\",\n    \"docs\": \"esdoc -c .esdoc.json\",\n    \"mocha\": \"mocha -u bdd -R spec -t 5000 --watch test/tests.js\",\n    \"postinstall\": \"run-s build docs\",\n    \"start\": \"rollup -cw\",\n    \"test\": \"mocha -u bdd -R spec -t 5000 test/tests.js\"\n  },\n  \"author\": \"rob@hixfamily.org\",\n  \"license\": \"MIT\",\n  \"devDependencies\": {\n    \"esdoc\": \"^1.1.0\",\n    \"eslint\": \"^6.1.0\",\n    \"mocha\": \"^6.2.0\",\n    \"mocha-sauce\": \"git+https://github.com/pbakaus/mocha-sauce.git\",\n    \"nock\": \"^10.0.6\",\n    \"npm-run-all\": \"^4.1.5\",\n    \"reify\": \"^0.20.12\",\n    \"rollup\": \"^1.17.0\",\n    \"rollup-plugin-buble\": \"^0.19.8\",\n    \"rollup-plugin-json\": \"^4.0.0\",\n    \"rollup-plugin-live-server\": \"^1.0.3\",\n    \"rollup-plugin-node-resolve\": \"^5.2.0\",\n    \"rollup-plugin-terser\": \"^5.1.1\",\n    \"rollup-plugin-terser-js\": \"git+https://bitbucket.org/robhicks55/rollup-plugin-terser-js.git\",\n    \"sinon\": \"^7.3.2\",\n    \"sinon-chai\": \"^3.3.0\",\n    \"static-server\": \"^2.2.1\"\n  },\n  \"dependencies\": {}\n}\n",
    "longname": "/Users/robhicks/sandbox/tiny-uri/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]